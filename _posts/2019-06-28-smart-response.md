---
layout: post
title:  "Клавиатурный КПК из Smartresponder XE"
date: 2019-06-28 16:09:00 -0000
tags: DIY
---

Я давно хотел сделать клавиатурный КПК на базе Arduino. Меня останавливали технические сложности процесса. Собрать устройство на макетной плате это одно. Но объединить всё в одном корпусе, чтобы это ещё не слишком колхозно выглядело - совсем другое. Наверное, эта идея так и осталась бы идеей, если бы я не узнал случайно про устройство Smartresponse XE. Это готовое устройство с QWERTY клавиатурой на 60 клавиш, экраном 384x160 пикселей, беспроводным RF интерфейсом, внешней флеш-памятью на 128 килобайт и контроллером ATmega128RFA. Для этого устройства уже есть библиотека [SmartResponseXE](https://github.com/bitbank2/SmartResponseXE), которая содержит функции для опроса клавиатуры и вывода на экран и несколько пользовательских модификаций.

Я не смог заказать устройство на ebay, поэтому заказал с Амазон через Бандерольку. Устройство пришло и включается

![Smart response XE](http://2nature.ru/files/smart-response1.jpeg)

Есть модификация для прошивки устройства ["по воздуху"](https://habr.com/ru/post/447026/), но мне это не нужно. Я планирую прошить язык программирования Форт, а все остальные программы делать уже непосредственно на устройстве. В руководстве написано, что к пинам для подключения JTAG программатора можно прошить только загрузчик устройства, но это не так. Если есть программатор, который можно сделать даже из другого Ардуино, то через этот интерфейс можно делать какие угодно прошивки. Сторого говоря, загрузчик нужен только для того, чтобы удобнее было устанавливать новые прошивки. Но в нашем случае, чтобы ползоваться загрузиком нужно лезть в корпус, припаивать дополнительные разъёмы и выводить их куда-то наружу корпуса, так что это выглядит так.    

![Smart response XE](http://2nature.ru/files/smart-response2.jpeg)

Вместо этого можно просто заливать прошивку целиком программатором, через аккуратные дырочки, закрытые батарейным отсеком. Я однозначно выбрал второй вариант.

![Smart response XE](http://2nature.ru/files/smart-response3.jpeg)

Подходящие описане удалось найти в статье [Getting Started with the Arduino ISP](https://www.arduino.cc/en/Guide/ArduinoISP). К счастью, у меня уже есть программатор. Поэтому следующим шагом будет попытка написать программу для Smartresponse XE и залить её на устройство через ISP.
