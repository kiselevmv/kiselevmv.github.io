---
layout: post
title:  "Запуск Heroes III для Linux"
date: 2008-03-16 03:07:00 -0000
tags: Software
---

Уже давно знал, что отличная стратегическая игра Heroes III была адаптирована для Linux компанией <a href="p://www.lokigames.com/products/heroes3/">Loki Games</a>. К сожалению, от Loki остался только веб-сайт, с которого, к тому же, не скачать самой игры. Её удалось получить через <a href="http://www.btmon.com/Games/PC/Heroes_Of_Might_And_Magic_3_Linux_ISO.torrent">этот torrent</a>. Возможно, через некоторое время он станет недоступен. Однако раздача через него продолжается уже ровно три года и семь дней (на момент написания заметки), что удивляет и радует. Кроме того, можно найти этот файл в eMule. Из скачанного архива нужно извлечь iso-образ игры, прожечь его на CD-R болванку и установить игру командой 'bash ./setup.sh'. Тут подстерегает первая особенность. Нужно использовать именно bash. Если ввести 'sh ./setup.sh', как это описано в файле readme - будет ошибка.

Игра запускается и работает (играет :), но это релиз 1.2 в котором имеются ошибки. Нужно наложить патч, который также содержится в архиве. Скачать его с сайта Loki games на момент написания заметки было уже невозможно.  Тут есть вторая проблема - патч не работает, завершается с малопонятной мне ошибкой. Зато есть патч для патча. Его можно <a href="https://sourceforge.net/project/showfiles.php?group_id=115517&package_id=150750">взять</a> на сайте <a href="http://goldenfiles.sourceforge.net/index.php?page=lokipatchfix">Goldenfiles Software</a>. Перенести файл 'loki_patch-fix-0.1.tar.gz' в каталог с патчем heroes3-1.3.1a-unified-x86.run. Теперь нужно ввести команду '\_POSIX2\_VERSION=199209 ./heroes3-1.3.1a-unified-x86.run --keep'. Распаковать патч для патча командой 'tar xvfz loki_patch-fix-0.1.tar.gz'. Запустить патч для пачка командой 'cp Loki_patch-fix/fixedpatch heroes3-1.3.1a-unified-x86/bin/Linux/x86/loki_patch'. И наконец, запустить сам патч './heroes3-1.3.1a-unified-x86/update.sh'. На моей системе Ubuntu 7.10 всё прошло успешно. Основной плюс наложения патча на игру - она начинает запускаться в полном экране.

Учитывая, что Heroes III запускаемый при помощи wine на моей системе не воспроизводит музыку и подтормаживает, на мощном процессоре и гигабайте памяти - запуск нативных Heroes III отличный способ ещё раз сыграть в одну из самых любимых компьютерных стратегий.
