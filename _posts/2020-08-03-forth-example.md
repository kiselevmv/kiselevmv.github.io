---
layout: post
title:  "Пример программы на языке Форт"
date: 2020-08-03 19:38:00 -0000
tags: Форт программирование
---

После [компиляции pForth](http://mnlist.ru/blog/2020/pforth-exercise) самое время разобраться, как в принципе работают программы на Форт. И как добавлять свои форт-слова на языке С.

Решил сделать собственную, максимально простую программу для перевода градусов Цельсия в Фаренгейты и обратно. Когда-то я видел пример такой программы на Форт. Это классика, попробую сделать её без примера под рукой. Как переводить из [градусов Цельсия в Фаренгейты](https://www.aaamath.com/mea414x2.htm) и [обратно](https://www.aaamath.com/mea414x3.htm) читаем на [AAA Math](https://www.aaamath.com/), великолепный онлайн-справочник.

## Перевод градусов Фаренгейта в градусы Цельсия

1. Вычитаем из градусов Фаренгейта 32.
2. Умножаем результат на 5/9. 

То, что это дробь критично для Форт, мы будем придерживаться цельночисленной арифметики. Никаких десятых долей градуса ни в исходных данных, ни в результате. Потеря точности будет очень умеренная.

## Определяем слово F>C

Короткие названия - традиция Форт. Когда-то приходилось умещать программы в "экраны", фрагменты примерно по 2 кБ из-за аппаратных ограничений. К счастью, сегодня таких ограничений нет, можно давать говорящие имена, но буду придерживаться ретро-традиции.

Алгоритм, фактически, приведён в предыдущем разделе.