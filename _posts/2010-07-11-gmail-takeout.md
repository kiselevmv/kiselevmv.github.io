---
layout: post
title:  "Архивировать письма из gmail по тегу"
date: 2020-07-11 20:59:00 -0000
tags: lifehack
---

В управлении электронной почтой я стараюсь придерживаться принципа Inbox zero. Ну, или "пустой почтовый ящик", если говорить по-русски. Суть принципа проста. В двух предложениях это означает, что в папке "Входящие" находятся только неразобранные письма. Это не означает, что все письма после обработки нужно удалять. В почте gmail есть отличная возможность устанавливать на письма теги. Личные письма я переношу в тег "Private". На вопросы я отвечаю и переношу в папку "Consulting" или "Business". Письма с какой-то полезной или справочной информацией - в тег "Reference". А чаще я перенаправляю его в Evernote, как это описано в статье "[Трюки с Evernote](https://kiselevmv.github.io/2020/07/07/evernote-tricks.html)". Есть ещё несколько тегов, используемых более редко. 

Прочитать про метод более подробно можно в отличных статьях:

- [Метод Inbox Zero — лучший способ разобраться с тысячами непрочитанных писем](https://lifehacker.ru/metod-inbox-zero/)
- [Zero Inbox. Гайд по наведению порядка в почте](https://habr.com/ru/post/492974/)

Я согласен не со всеми положениями этих статей. Например, я почти никогда не архивирую письма. Архивированные письма в gmail больше никогда не показываются в папках, их можно только найти поиском. Проблема с этим простая, нужно помнить, что ищешь. Поэтому, если письмо относится к конкретному проекту, с которым я работаю - я завожу отдельный тег для этого проекта. Проблема в том, что проекты заканчиваются. Точнее, это не проблема, это счастье. Но письма продолжают находиться в ящике. Ищутся поиском, занимают тег. Их можно "замаскировать" запретив тегу отображаться на главном экране. Но это подобно заметанию мусора под ковёр. Удалять же эти письма совсем - не лучший вариант. Во-первых с проектом могут случиться проблемы в будущем. Налоговые притензии, рекламации заказчиков, что угодно. И неплохо бы сохранять переписку, чтобы иметь возможность хоть как-то защитить себя. Поэтому я искал способ экспортировать все письма с определённым тегом из ящика. В одном из общеупотребимых форматов, в котором их можно будет открыть и через десять лет.

Я использую почтовый сервис [Gmail](https://gmail.com). Сразу решил отказаться от сторонних инструментов, так как не хочу давать доступ к своему почтовому ящику посторонним сервисам. Каким-то образом я долго не находил самого простого, очевидного и безопасного способа провести такой экспорт - сервис [Google takeout](https://takeout.google.com/settings/takeout). Он же "Googe Архиватор". Способ очень простой и быстрый.

1. Перхеодим в [Google Архиватор](https://takeout.google.com/settings/takeout). Нажимаем ссылку "Отменить выбор", иначе Google экспортирует все ваши данные.

![Google takeout](http://2nature.me/files/takeout-screen1.png)

Переходим к пункту "Почта", ставим галочку и нажимаем ссылку "Выбраны все данные почты", иначе Google проэкспортирует весь почтовый ящик.

![Google takeout](http://2nature.me/files/takeout-screen2.png)

Убираем галочку "Включить все сообщения в почтовом ящике", снимаем остальные галочки и выбираем один или несколько тегов писем, которые вы хотите проэкспортировать. Рекомендую придерживаться принципа "один проект - один экспорт", но решать вам. Возможно, несколько небольших смежных проектов и имеет смысл размещать в одном архиве. Нажимаем "ОК" и прокручиваем ленту до низа экрана, где находится кнопка "Далее".

![Google takeout](http://2nature.me/files/takeout-screen3.png)

Здесь выбираем "однократный экспорт", формат "zip" и размер файла исходя из ожидаемого размера ящика. Если у вас быстрый интернет - имеет смысл выбрать размер файла побольше, чтобы скачать архив одним файлом. Если связь рвётся - можно выбрать размер архивного файла 1 Гб.

![Google takeout](http://2nature.me/files/takeout-screen4.png)

Жмём кнопку "создать экспорт". Архивация займёт некоторое время. После завершения процесса на почту придёт ссылка для скачивания архива. Его можно скачать, открыть почтовой программой, проверить работу и потом удалить все письма с тегом старого проекта и сам тег.

Удивительно, что я нашёл этот надёжный и безопасный способ только сейчас. Теперь мой почтовый ящик стал легче, при поиске писем находится меньше мусора - писем из завершённых проектов. В то же время я чувтсвтую себя защищённым и имеют доступ к старым письмам, когда он понадобится.